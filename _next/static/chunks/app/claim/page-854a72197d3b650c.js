(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[69],{39464:(e,t,a)=>{"use strict";a.d(t,{Y:()=>i});var r=a(95155),s=a(23968);function i(){return(0,r.jsx)("header",{className:"sticky top-0 z-50 w-full border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:(0,r.jsxs)("div",{className:"container flex h-16 items-center",children:[(0,r.jsx)("div",{className:"mr-4 flex items-center space-x-2",children:(0,r.jsx)("h1",{className:"text-xl font-bold",children:"Takaful Life"})}),(0,r.jsx)(s.MainNav,{})]})})}},49026:(e,t,a)=>{"use strict";a.d(t,{Fc:()=>d,TN:()=>o,XL:()=>c});var r=a(95155),s=a(12115),i=a(74466),l=a(53999);let n=(0,i.F)("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),d=s.forwardRef((e,t)=>{let{className:a,variant:s,...i}=e;return(0,r.jsx)("div",{ref:t,role:"alert",className:(0,l.cn)(n({variant:s}),a),...i})});d.displayName="Alert";let c=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("h5",{ref:t,className:(0,l.cn)("mb-1 font-medium leading-none tracking-tight",a),...s})});c.displayName="AlertTitle";let o=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("div",{ref:t,className:(0,l.cn)("text-sm [&_p]:leading-relaxed",a),...s})});o.displayName="AlertDescription"},82714:(e,t,a)=>{"use strict";a.d(t,{J:()=>c});var r=a(95155),s=a(12115),i=a(40968),l=a(74466),n=a(53999);let d=(0,l.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),c=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(i.b,{ref:t,className:(0,n.cn)(d(),a),...s})});c.displayName=i.b.displayName},83040:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>R});var r=a(95155),s=a(12115),i=a(39464),l=a(88482),n=a(89852),d=a(82714),c=a(97168),o=a(49026),m=a(85339),u=a(83013),f=a(69074),p=a(53999),h=a(42355),x=a(13052),g=a(43900);function v(e){let{className:t,classNames:a,showOutsideDays:s=!0,...i}=e;return(0,r.jsx)(g.hv,{showOutsideDays:s,className:(0,p.cn)("p-3",t),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:(0,p.cn)((0,c.r)({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:(0,p.cn)((0,c.r)({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground aria-selected:bg-accent/50 aria-selected:text-muted-foreground",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...a},components:{IconLeft:e=>{let{...t}=e;return(0,r.jsx)(h.A,{className:"h-4 w-4"})},IconRight:e=>{let{...t}=e;return(0,r.jsx)(x.A,{className:"h-4 w-4"})}},...i})}v.displayName="Calendar";var b=a(35178);let y=b.bL,N=b.l9,j=s.forwardRef((e,t)=>{let{className:a,align:s="center",sideOffset:i=4,...l}=e;return(0,r.jsx)(b.ZL,{children:(0,r.jsx)(b.UC,{ref:t,align:s,sideOffset:i,className:(0,p.cn)("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",a),...l})})});function w(e){let{date:t,setDate:a,className:s}=e;return(0,r.jsxs)(y,{children:[(0,r.jsx)(N,{asChild:!0,children:(0,r.jsxs)(c.$,{variant:"outline",className:(0,p.cn)("w-full justify-start text-left font-normal",!t&&"text-muted-foreground",s),children:[(0,r.jsx)(f.A,{className:"mr-2 h-4 w-4"}),t?(0,u.GP)(t,"PPP"):(0,r.jsx)("span",{children:"Pick a date"})]})}),(0,r.jsx)(j,{className:"w-auto p-0",children:(0,r.jsx)(v,{mode:"single",selected:t,onSelect:a,initialFocus:!0})})]})}j.displayName=b.UC.displayName;var C=a(11392),_=a(29103),k=a(23570),P=a(14503),S=a(20558),D=a(44134).Buffer;function R(){let e=(0,C.v)(),{program:t,findClaimPDA:a}=(0,_.w)(),{toast:u}=(0,P.dj)(),[f,p]=(0,s.useState)(""),[h,x]=(0,s.useState)(""),[g,v]=(0,s.useState)(void 0),[b,y]=(0,s.useState)(""),[N,j]=(0,s.useState)(!1),[R,I]=(0,s.useState)({}),[A,F]=(0,s.useState)(null),L=()=>{let e={};return(!f.trim()||isNaN(Number(f)))&&(e.participantId="Valid participant ID is required"),h.trim()||(e.deathCertificateHash="Death certificate hash is required"),g||(e.deathDate="Death date is required"),(!b||isNaN(Number(b))||0>=Number(b))&&(e.claimAmount="Valid claim amount is required"),I(e),0===Object.keys(e).length},O=async r=>{if(r.preventDefault(),F(null),L()){if(!e.publicKey||!t){u({title:"Wallet not connected",description:"Please connect your wallet to file a claim",variant:"destructive"});return}try{j(!0);let r=new S.BN(Number(b)*k.LAMPORTS_PER_SOL),s=Math.floor(g.getTime()/1e3),i=new k.PublicKey(f),[l]=await k.PublicKey.findProgramAddress([D.from("participant"),i.toBuffer()],t.programId),[n]=await a(new S.BN(f));u({title:"Processing claim",description:"Please approve the transaction to file your claim"}),await t.methods.fileClaim(h,new S.BN(s),r).accounts({authority:e.publicKey,participant:l,claim:n,systemProgram:k.SystemProgram.programId}).rpc(),u({title:"Claim filed successfully",description:"Your claim has been submitted and is pending approval"}),p(""),x(""),v(void 0),y("")}catch(e){var s,i;console.error("Error filing claim:",e),(null===(s=e.message)||void 0===s?void 0:s.includes("User rejected"))?F("Transaction was rejected. Please try again and approve the transaction in your wallet."):(null===(i=e.message)||void 0===i?void 0:i.includes("insufficient funds"))?F("Insufficient funds for this transaction. Please make sure you have enough SOL."):F("Failed to file claim: ".concat(e.message||"Unknown error")),u({title:"Claim filing failed",description:"Failed to file claim. Please check the error details.",variant:"destructive"})}finally{j(!1)}}};return e.connected?(0,r.jsxs)("div",{className:"flex min-h-screen flex-col",children:[(0,r.jsx)(i.Y,{}),(0,r.jsx)("main",{className:"flex-1 container py-12",children:(0,r.jsx)("div",{className:"max-w-md mx-auto",children:(0,r.jsxs)(l.Zp,{children:[(0,r.jsxs)(l.aR,{children:[(0,r.jsx)(l.ZB,{children:"File a Claim"}),(0,r.jsx)(l.BT,{children:"Submit a claim as a nominee of a deceased participant"})]}),(0,r.jsxs)("form",{onSubmit:O,children:[(0,r.jsxs)(l.Wu,{className:"space-y-4",children:[A&&(0,r.jsxs)(o.Fc,{variant:"destructive",children:[(0,r.jsx)(m.A,{className:"h-4 w-4"}),(0,r.jsx)(o.XL,{children:"Error"}),(0,r.jsx)(o.TN,{children:A})]}),(0,r.jsx)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 mb-4",children:(0,r.jsxs)("p",{className:"text-yellow-700",children:[(0,r.jsx)("strong",{children:"Important:"})," Only the nominee of a participant can file a claim. Make sure you are using the wallet address that was registered as the nominee."]})}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(d.J,{htmlFor:"participantId",children:"Participant ID"}),(0,r.jsx)(n.p,{id:"participantId",value:f,onChange:e=>p(e.target.value),placeholder:"Enter the participant's ID"}),R.participantId&&(0,r.jsx)("p",{className:"text-sm text-red-500",children:R.participantId})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(d.J,{htmlFor:"deathCertificateHash",children:"Death Certificate Hash"}),(0,r.jsx)(n.p,{id:"deathCertificateHash",value:h,onChange:e=>x(e.target.value),placeholder:"Enter IPFS hash of death certificate"}),R.deathCertificateHash&&(0,r.jsx)("p",{className:"text-sm text-red-500",children:R.deathCertificateHash})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(d.J,{htmlFor:"deathDate",children:"Date of Death"}),(0,r.jsx)(w,{date:g,setDate:v,className:"w-full"}),R.deathDate&&(0,r.jsx)("p",{className:"text-sm text-red-500",children:R.deathDate})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(d.J,{htmlFor:"claimAmount",children:"Claim Amount (SOL)"}),(0,r.jsx)(n.p,{id:"claimAmount",type:"number",min:"0.01",step:"0.01",value:b,onChange:e=>y(e.target.value),placeholder:"Enter claim amount in SOL"}),R.claimAmount&&(0,r.jsx)("p",{className:"text-sm text-red-500",children:R.claimAmount})]})]}),(0,r.jsx)(l.wL,{children:(0,r.jsx)(c.$,{type:"submit",className:"w-full",disabled:N,children:N?"Submitting...":"File Claim"})})]})]})})})]}):(0,r.jsxs)("div",{className:"flex min-h-screen flex-col",children:[(0,r.jsx)(i.Y,{}),(0,r.jsx)("main",{className:"flex-1 container py-12",children:(0,r.jsxs)("div",{className:"flex flex-col items-center justify-center h-[60vh]",children:[(0,r.jsx)("h2",{className:"text-2xl font-bold mb-4",children:"Please connect your wallet"}),(0,r.jsx)("p",{className:"text-muted-foreground",children:"Connect your Solana wallet to file a claim"})]})})]})}},88482:(e,t,a)=>{"use strict";a.d(t,{BT:()=>c,Wu:()=>o,ZB:()=>d,Zp:()=>l,aR:()=>n,wL:()=>m});var r=a(95155),s=a(12115),i=a(53999);let l=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("div",{ref:t,className:(0,i.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",a),...s})});l.displayName="Card";let n=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("div",{ref:t,className:(0,i.cn)("flex flex-col space-y-1.5 p-6",a),...s})});n.displayName="CardHeader";let d=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("div",{ref:t,className:(0,i.cn)("text-2xl font-semibold leading-none tracking-tight",a),...s})});d.displayName="CardTitle";let c=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("div",{ref:t,className:(0,i.cn)("text-sm text-muted-foreground",a),...s})});c.displayName="CardDescription";let o=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("div",{ref:t,className:(0,i.cn)("p-6 pt-0",a),...s})});o.displayName="CardContent";let m=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("div",{ref:t,className:(0,i.cn)("flex items-center p-6 pt-0",a),...s})});m.displayName="CardFooter"},89852:(e,t,a)=>{"use strict";a.d(t,{p:()=>l});var r=a(95155),s=a(12115),i=a(53999);let l=s.forwardRef((e,t)=>{let{className:a,type:s,...l}=e;return(0,r.jsx)("input",{type:s,className:(0,i.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",a),ref:t,...l})});l.displayName="Input"},93222:(e,t,a)=>{Promise.resolve().then(a.bind(a,83040))}},e=>{var t=t=>e(e.s=t);e.O(0,[956,867,33,416,568,236,468,374,973,441,684,358],()=>t(93222)),_N_E=e.O()}]);